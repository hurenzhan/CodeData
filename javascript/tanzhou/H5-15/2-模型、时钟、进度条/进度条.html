<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<style type="text/css">
		.box{
			width: 300px;
			height: 30px;
			box-shadow: inset 0 0 10px #060606;
			margin: 0 auto;
			border-radius: 30px;
			position: relative;
			background: transparent;
		}
		.inner{
			position: absolute;
			width: 70%;
			height: 100%;
			top: 0;left: 0;
			border-radius: 30px;
			background: linear-gradient(
				45deg,
				transparent 0%,
				transparent 25%,
				#ea4245 25%,
				#ea4245 50%,
				transparent 50%,
				transparent 75%,
				#ea4245 75%
			);
			background-size: 30px 30px;
			background-color: rgba(234,66,69,0.7);
			animation: play 4s infinite linear;
		}
		.inner>span{
			content: "";
			position: absolute;
			width: 30px;
			height: 30px;
			right: 0;top: 0;
			background-color: #fff;
			border-radius: 50%;
			cursor: pointer;
		}
		@keyframes play{
			from{background-position-x: 0;}
			to{background-position-x: 100%;}
		}
	</style>
	<body>
		<div class="box" id="box">
			<span class="inner" id="inner">
				<span id="btn"></span>
			</span>
		</div>
		<script type="text/javascript">
			btn.onmousedown = function(e){
				let dX = inner.offsetWidth - (e.pageX - box.offsetLeft);
				document.onmousemove = function(e){
					nX = e.pageX - box.offsetLeft;
					nX = Math.min(300-dX,nX);
					nX = Math.max(nX,30-dX);
					inner.style.width = nX + dX + "px"
				}
				document.onmouseup = function(){
					this.onmousedown = null;
					document.onmousemove = null;
				}
			}
			box.onmousedown = function(e){
				let dX = e.pageX - box.offsetLeft;
				inner.style.width = dX + 15 + "px";
				document.onmousemove = function(e){
					nX = e.pageX - box.offsetLeft;
					nX = Math.min(300-15,nX);
					nX = Math.max(nX,30-15);
					inner.style.width = nX + 15 + "px"
				}
			}
		</script>
	</body>
</html>
