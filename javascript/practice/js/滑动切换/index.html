<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>hello world~!!</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
    <style>
        *{margin: 0;padding: 0;}
        body{font:12px/1.5 'Microsoft Yahei';color:#888;}
        .clearfix:after{content:'';display:block;clear:both;}
        .fl{float:left;}
        .fr{float:right;}

        #wrap{
            width:982px;
            box-shadow:0 0 10px 1px #ddd;
            margin:50px auto;
            text-align:center;
            position: relative;
             overflow:hidden;

        }
        #wrap ul{
            height:158px;
            display: flex;
            justify-content: center;
            align-items: center;

        }
        #wrap li{
            list-style: none;
            width: 130px;
            height: 152px;

        }
        #wrap li:nth-of-type(n+7){
        	position: absolute;
        	left: 100%;
        }
        #wrap li a{
            display:block;
        }
        #wrap li a img{
        	display: block;
        	width: 100%;
        	height: 100%;
        }
         #wrap .tab{

            height:32px;
            background:-webkit-gradient(linear, left bottom, left top, from(rgba(223,223,223,1)), color-stop(66%, rgba(242,242,242,1)), color-stop(90%, rgba(242,242,242,1)), color-stop(93%, rgba(230,230,230,1)), color-stop(96%, rgba(210,210,210,1)), to(rgba(140,140,140,1)));
            border-bottom:1px solid #ebebeb;
            position: relative;

         }
         #wrap .tab a{
            display:inline-block;
            padding:10px;
            text-decoration: none;
            color:#666;
         }
         #wrap .tab a.show{
            color:#222;
         }
         #wrap .tab span{
            position: absolute;
            width:15px;
            height:8px;
            background:url('images/caret_active.png');
            left:424px;
         }


    </style>
</head>
<body>
    <div id="wrap">
        <ul>
            <li>
                <a href="javascript:void(0)">
                    <img src="images/1.jpg " alt="">
                </a>
                <span>iPod shuffle</span>
            </li>
            <li>
                <a href="javascript:void(0)">
                    <img src="images/2.jpg " alt="">
                </a>
                <span>iPod shuffle</span>
            </li>
            <li>
                <a href="javascript:void(0)">
                    <img src="images/3.jpg " alt="">
                </a>
                <span>iPod shuffle</span>
            </li>
            <li>
                <a href="javascript:void(0)">
                    <img src="images/4.jpg " alt="">
                </a>
                <span>iPod shuffle</span>
            </li>
            <li>
                <a href="javascript:void(0)">
                    <img src="images/5.jpg " alt="">
                </a>
                <span>iPod shuffle</span>
            </li>
            <li>
                <a href="javascript:void(0)">
                    <img src="images/6.jpg " alt="">
                </a>
                <span>iPod shuffle</span>
            </li>
            <li>
                <a href="javascript:void(0)">
                    <img src="images/7.jpg " alt="">
                </a>
                <span>iPod shuffle</span>
            </li>
            <li>
                <a href="javascript:void(0)">
                    <img src="images/8.jpg " alt="">
                </a>
                <span>iPod shuffle</span>
            </li>
            <li>
                <a href="javascript:void(0)">
                    <img src="images/9.jpg " alt="">
                </a>
                <span>iPod shuffle</span>
            </li>
            <li>
                <a href="javascript:void(0)">
                    <img src="images/10.jpg " alt="">
                </a>
                <span>iPod shuffle</span>
            </li>
            <li>
                <a href="javascript:void(0)">
                    <img src="images/11.jpg " alt="">
                </a>
                <span>iPod shuffle</span>
            </li>
            <li>
                <a href="javascript:void(0)">
                    <img src="images/12.jpg " alt="">
                </a>
                <span>iPod shuffle</span>
            </li>

        </ul>
        <div class="tab">
            <span></span>
            <a class='show' href="javascript:void(0)">Products</a>
            <a href="javascript:void(0)">iTunes and more</a>
        </div>
    </div>
</body>
    <script>
        class Tab{
        	constructor(box) {
        		this.Wrap = box;
        		this.li = this.Wrap.getElementsByTagName("li");
        		this.tab = this.Wrap.querySelectorAll(".tab a");
        		this.oSpan = this.Wrap.querySelector(".tab span");
        		this.li_length = this.li.length;
        		this.li_w = this.li[0].offsetWidth;
        		this.num = 0;
        		this.arr = [];
        		this.init_left = (this.Wrap.offsetWidth-this.li_w * (this.li_length/2)) / 2;
        		this.Init(this);
        		this.Switch(this);
        	}
        	Init(This){
        		window.onload = function(){
        			for (let i=0;i<This.li_length/2;i++) {
    					This.arr[i] = This.init_left + (This.li_w*i);
    					This.li[i].style.left = This.init_left + (This.li_w*i) + "px";
    					This.li[i].style.position = "absolute";
        			}
        		}
        	}
        	Switch(This){
        		for (let i=0;i<this.tab.length;i++) {
        			this.tab[i].index = i;
        			this.tab[i].onclick = function(){
        				This.tab[This.num].className = "";
        				This.num = this.index;
        				This.tab[This.num].className = "show";
        				let center = this.offsetLeft+(this.offsetWidth)/2 - This.oSpan.offsetWidth/2;
        				This.Animation(This.oSpan,"left",center);
        				let t_num = 1000/60;
        				if (this.index) {
        					let index = 0;
        					let timer1 = setInterval(function(){
        						if (index < This.li_length/2) {
        							This.Animation(This.li[index],"left",-This.li_w)
        						} else{
        							This.Animation(This.li[index],"left",This.arr[index-6])
        						}
        						index++;
        						if(index === This.li_length){
        							clearInterval(timer1)
        						}
        						t_num += 60;
        					},t_num)
        				} else{
        					let index = This.li_length - 1;
        					let timer2 = setInterval(function(){
        						if (index < This.li_length/2) {
        							This.Animation(This.li[index],"left",This.arr[index]);
        						} else{
        							This.Animation(This.li[index],"left",This.Wrap.offsetWidth);
        						}
        						index--;
        						if (index < 0) {
        							clearInterval(timer2)
        						}
        						t_num += 60;
        					},t_num)
        				}
        			}
        		}
        	}
        	Animation(obj,attr,target){
        		obj.offset = obj.offsetLeft;
        		obj.speed = 0;
        		clearInterval(obj.timer);
        		obj.timer = setInterval(function(){
        			obj.speed += (target - obj.offset)/5;
        			obj.speed *= 0.6;
        			obj.offset += obj.speed;
        			if (Math.abs(obj.offset-target) < 1 && Math.abs(obj.speed) < 1) {
        				clearInterval(obj.timer);
        				obj.offset = target;
        			}
        			obj.style[attr] = obj.offset + "px"
        		},1000/60)
        	}
        }
        const oWrap = document.getElementById("wrap");
        new Tab(oWrap)
    </script>
</html>
